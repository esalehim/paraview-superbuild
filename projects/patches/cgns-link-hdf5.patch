diff -Nr -U5 cgnslib_3.1.3/src/CMakeLists.txt cgnslib_3.1.3.link-hdf5/src/CMakeLists.txt
--- cgnslib_3.1.3/src/CMakeLists.txt	2011-03-21 14:33:24.000000000 -0400
+++ cgnslib_3.1.3.link-hdf5/src/CMakeLists.txt	2015-12-02 16:12:55.769837362 -0500
@@ -119,23 +119,24 @@
   add_library(cgns_shared SHARED ${cgns_FILES})
   # under windows we need to define BUILD_DLL
   # and link with the HDF5 libraries to build a dll
   if (WIN32 OR CYGWIN)
     add_definitions(-DBUILD_DLL)
-    if (ENABLE_HDF5 AND HDF5_LIBRARY)
-      target_link_libraries(cgns_shared ${HDF5_LIBRARY})
-      if(HDF5_NEED_ZLIB AND ZLIB_LIBRARY)
-        target_link_libraries(cgns_shared ${ZLIB_LIBRARY})
-      endif(HDF5_NEED_ZLIB AND ZLIB_LIBRARY)
-      if(HDF5_NEED_SZIP AND SZIP_LIBRARY)
-        target_link_libraries(cgns_shared ${SZIP_LIBRARY})
-      endif(HDF5_NEED_SZIP AND SZIP_LIBRARY)
-      if(HDF5_NEED_MPI AND MPI_LIBRARY)
-        target_link_libraries(cgns_shared ${MPI_LIBRARY})
-      endif(HDF5_NEED_MPI AND MPI_LIBRARY)
-    endif (ENABLE_HDF5 AND HDF5_LIBRARY)
   endif (WIN32 OR CYGWIN)
+  # Need to add target_link_libraries on all platforms.
+  if (ENABLE_HDF5 AND HDF5_LIBRARY)
+    target_link_libraries(cgns_shared ${HDF5_LIBRARY})
+    if(HDF5_NEED_ZLIB AND ZLIB_LIBRARY)
+      target_link_libraries(cgns_shared ${ZLIB_LIBRARY})
+    endif(HDF5_NEED_ZLIB AND ZLIB_LIBRARY)
+    if(HDF5_NEED_SZIP AND SZIP_LIBRARY)
+      target_link_libraries(cgns_shared ${SZIP_LIBRARY})
+    endif(HDF5_NEED_SZIP AND SZIP_LIBRARY)
+    if(HDF5_NEED_MPI AND MPI_LIBRARY)
+      target_link_libraries(cgns_shared ${MPI_LIBRARY})
+    endif(HDF5_NEED_MPI AND MPI_LIBRARY)
+  endif (ENABLE_HDF5 AND HDF5_LIBRARY)
 else(CGNS_BUILD_SHARED)
   set(CGNS_USE_SHARED "OFF")
   mark_as_advanced(FORCE CGNS_USE_SHARED)
 endif(CGNS_BUILD_SHARED)
 
